<style type="text/css">
	.spr-badge[data-rating="0.0"] {
    	visibility:hidden; display: none;
	}

	.hp-product-title a {
		font-weight: bold;
		font-size: 15px;
	}

	.hp-product-title a,
	.hp-product-sku a {
		color: #212529;
	}

	.hp-product-title a:hover,
	.hp-product-sku a:hover {
		color: #737373;
		text-decoration: none;
	}

	.hp-product-sku {
		font-size: 12px;
	}

	.hp-product-vendor {
		font-size: 12px;
	}

</style>

<!-- shop by product -->
<div class="container">
	<div class="row solid-bottom-line">
	  <h3 class="tb-h3-underline">{{ section.settings.hp_product_header }}</h3>
	</div>
	<div class="row">
		{% assign hp_collection = collections[section.settings.hp_product_collection] %}
		{% for product in hp_collection.products limit: 4 %}
			<div class="col-md-3 hp-product-block">
				<div class="hp-product-img">
					<a href="{{ product.url }}">
						<img class="img-fluid" src="{{ product.featured_image.src | img_url: '500x500', crop: 'center' }}">
					</a>
				</div>
				<div class="hp-product-title">
					<span>
						<a href="{{ product.url }}">{{ product.title }}</a>
					</span>
				</div>
				{% comment %}
					Prevent Caiman from showing SKU.
				{% endcomment %}
				{% if product.vendor != 'Caiman' %}
					<div class="hp-product-sku">
						<span><strong>SKU //</strong>{% for vari in product.variants %}{% if forloop.last == true %} <a href="{{ vari.url }}">{{ vari.sku }}</a>{% else %} <a href="{{ vari.url }}">{{ vari.sku }}</a>,{% endif %}{% endfor %}</span>
					</div>
				{% endif %}
				<div class="hp-product-vendor">
					{% comment %}
						Looks up vendor for product.
					{% endcomment %}
					{% assign product_vendor_handle = product.vendor | handle %}       
					{% if collections[product_vendor_handle].handle == product_vendor_handle %}
						{% assign vendor_url = collections[product_vendor_handle].url %}
					{% else %}
						{% assign vendor_url = product.vendor | url_for_vendor %}
					{% endif %}
					<span>
						<a href="{{ vendor_url }}">{{ product.vendor }}</a>
					</span>
				</div>
				<div class="hp-product-ratings">
					<span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
				</div>
				<div class="hp-product-price">
					<span>$</span> {{ product.price | money_without_currency }}
				</div>
				<div class="hp-product-button">
					<a href="{{ product.url }}" class="btn btn-primary tb-button">Shop Now</a>
				</div>
			</div>
		{% endfor %}
		
	</div>
</div>


{% schema %}
{
	"name": "Home Page Products",
	"settings": [
	  {
	    "type": "text",
	    "id": "hp_product_header",
	    "label": "Home Product Header"
	  },
	  {
	    "type": "collection",
	    "id": "hp_product_collection",
	    "label": "Home Product Collection"
	  }
	]
}
{% endschema %}